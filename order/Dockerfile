FROM node:18-alpine

ARG STRIPE_SECRET_KEY
ARG FRONTEND_URL
ENV STRIPE_SECRET_KEY=$STRIPE_SECRET_KEY
ENV FRONTEND_URL=$FRONTEND_URL

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

EXPOSE 4004

CMD ["npm", "start"]